{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\flavi\\\\WindSurf Projects\\\\karaoke-app\\\\frontend\\\\src\\\\pages\\\\UserSetup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Container, Box, Button, TextField, Typography, Grid, Avatar } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst avatars = ['/avatars/1.png', '/avatars/2.png', '/avatars/3.png', '/avatars/4.png', '/avatars/5.png', '/avatars/6.png', '/avatars/7.png', '/avatars/8.png'];\nfunction UserSetup() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    sessionId\n  } = useParams();\n  const [name, setName] = useState('');\n  const [selectedAvatar, setSelectedAvatar] = useState(null);\n  const [error, setError] = useState('');\n  const [isHost, setIsHost] = useState(false);\n  useEffect(() => {\n    // Check if this is a new session (user is host)\n    const pathSegments = window.location.pathname.split('/');\n    setIsHost(pathSegments[1] === 'setup' && !pathSegments[2]);\n  }, []);\n  const generateUserId = () => {\n    return Math.random().toString(36).substring(2) + Date.now().toString(36);\n  };\n  const handleSubmit = () => {\n    if (!name.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    if (!selectedAvatar) {\n      setError('Please select an avatar');\n      return;\n    }\n\n    // Store user data in localStorage for persistence\n    const userData = {\n      id: generateUserId(),\n      name: name.trim(),\n      avatar: selectedAvatar,\n      isHost: isHost\n    };\n    localStorage.setItem('userData', JSON.stringify(userData));\n\n    // Navigate to session\n    navigate(`/session/${sessionId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 8,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        gap: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Set Up Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Your Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        error: !!error && !name.trim(),\n        helperText: !name.trim() ? error : '',\n        sx: {\n          mb: 4\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"h2\",\n        gutterBottom: true,\n        children: \"Choose Your Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        justifyContent: \"center\",\n        children: avatars.map((avatar, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            src: avatar,\n            sx: {\n              width: 80,\n              height: 80,\n              cursor: 'pointer',\n              border: selectedAvatar === avatar ? '3px solid #2196f3' : 'none',\n              '&:hover': {\n                opacity: 0.8\n              }\n            },\n            onClick: () => setSelectedAvatar(avatar)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), !!error && !selectedAvatar && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"large\",\n        onClick: handleSubmit,\n        sx: {\n          mt: 4\n        },\n        children: \"Join Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        align: \"center\",\n        children: isHost ? 'You will be the host of this session' : 'You are joining as a participant'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(UserSetup, \"mhtNt8UI+tlJ8fN2ojYzljmVYeU=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = UserSetup;\nexport default UserSetup;\nvar _c;\n$RefreshReg$(_c, \"UserSetup\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Container","Box","Button","TextField","Typography","Grid","Avatar","jsxDEV","_jsxDEV","avatars","UserSetup","_s","navigate","sessionId","name","setName","selectedAvatar","setSelectedAvatar","error","setError","isHost","setIsHost","pathSegments","window","location","pathname","split","generateUserId","Math","random","toString","substring","Date","now","handleSubmit","trim","userData","id","avatar","localStorage","setItem","JSON","stringify","maxWidth","children","sx","mt","display","flexDirection","alignItems","gap","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","label","value","onChange","e","target","helperText","mb","container","spacing","justifyContent","map","index","item","src","width","height","cursor","border","opacity","onClick","color","size","align","_c","$RefreshReg$"],"sources":["C:/Users/flavi/WindSurf Projects/karaoke-app/frontend/src/pages/UserSetup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  Container,\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Avatar,\n} from '@mui/material';\n\nconst avatars = [\n  '/avatars/1.png',\n  '/avatars/2.png',\n  '/avatars/3.png',\n  '/avatars/4.png',\n  '/avatars/5.png',\n  '/avatars/6.png',\n  '/avatars/7.png',\n  '/avatars/8.png',\n];\n\nfunction UserSetup() {\n  const navigate = useNavigate();\n  const { sessionId } = useParams();\n  const [name, setName] = useState('');\n  const [selectedAvatar, setSelectedAvatar] = useState(null);\n  const [error, setError] = useState('');\n  const [isHost, setIsHost] = useState(false);\n\n  useEffect(() => {\n    // Check if this is a new session (user is host)\n    const pathSegments = window.location.pathname.split('/');\n    setIsHost(pathSegments[1] === 'setup' && !pathSegments[2]);\n  }, []);\n\n  const generateUserId = () => {\n    return Math.random().toString(36).substring(2) + Date.now().toString(36);\n  };\n\n  const handleSubmit = () => {\n    if (!name.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    if (!selectedAvatar) {\n      setError('Please select an avatar');\n      return;\n    }\n\n    // Store user data in localStorage for persistence\n    const userData = {\n      id: generateUserId(),\n      name: name.trim(),\n      avatar: selectedAvatar,\n      isHost: isHost,\n    };\n    localStorage.setItem('userData', JSON.stringify(userData));\n\n    // Navigate to session\n    navigate(`/session/${sessionId}`);\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box\n        sx={{\n          mt: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          gap: 4,\n        }}\n      >\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Set Up Your Profile\n        </Typography>\n\n        <TextField\n          fullWidth\n          label=\"Your Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          error={!!error && !name.trim()}\n          helperText={!name.trim() ? error : ''}\n          sx={{ mb: 4 }}\n        />\n\n        <Typography variant=\"h6\" component=\"h2\" gutterBottom>\n          Choose Your Avatar\n        </Typography>\n\n        <Grid container spacing={2} justifyContent=\"center\">\n          {avatars.map((avatar, index) => (\n            <Grid item key={index}>\n              <Avatar\n                src={avatar}\n                sx={{\n                  width: 80,\n                  height: 80,\n                  cursor: 'pointer',\n                  border: selectedAvatar === avatar ? '3px solid #2196f3' : 'none',\n                  '&:hover': {\n                    opacity: 0.8,\n                  },\n                }}\n                onClick={() => setSelectedAvatar(avatar)}\n              />\n            </Grid>\n          ))}\n        </Grid>\n\n        {!!error && !selectedAvatar && (\n          <Typography color=\"error\">{error}</Typography>\n        )}\n\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          onClick={handleSubmit}\n          sx={{ mt: 4 }}\n        >\n          Join Session\n        </Button>\n\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n          {isHost ? 'You will be the host of this session' : 'You are joining as a participant'}\n        </Typography>\n      </Box>\n    </Container>\n  );\n}\n\nexport default UserSetup;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SACEC,SAAS,EACTC,GAAG,EACHC,MAAM,EACNC,SAAS,EACTC,UAAU,EACVC,IAAI,EACJC,MAAM,QACD,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,OAAO,GAAG,CACd,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,CACjB;AAED,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe;EAAU,CAAC,GAAGd,SAAS,CAAC,CAAC;EACjC,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,MAAM,EAAEC,SAAS,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAE3CC,SAAS,CAAC,MAAM;IACd;IACA,MAAMyB,YAAY,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC;IACxDL,SAAS,CAACC,YAAY,CAAC,CAAC,CAAC,KAAK,OAAO,IAAI,CAACA,YAAY,CAAC,CAAC,CAAC,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE,CAAC;EAC1E,CAAC;EAED,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACpB,IAAI,CAACqB,IAAI,CAAC,CAAC,EAAE;MAChBhB,QAAQ,CAAC,wBAAwB,CAAC;MAClC;IACF;IACA,IAAI,CAACH,cAAc,EAAE;MACnBG,QAAQ,CAAC,yBAAyB,CAAC;MACnC;IACF;;IAEA;IACA,MAAMiB,QAAQ,GAAG;MACfC,EAAE,EAAEV,cAAc,CAAC,CAAC;MACpBb,IAAI,EAAEA,IAAI,CAACqB,IAAI,CAAC,CAAC;MACjBG,MAAM,EAAEtB,cAAc;MACtBI,MAAM,EAAEA;IACV,CAAC;IACDmB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAAC,CAAC;;IAE1D;IACAxB,QAAQ,CAAC,YAAYC,SAAS,EAAE,CAAC;EACnC,CAAC;EAED,oBACEL,OAAA,CAACR,SAAS;IAAC2C,QAAQ,EAAC,IAAI;IAAAC,QAAA,eACtBpC,OAAA,CAACP,GAAG;MACF4C,EAAE,EAAE;QACFC,EAAE,EAAE,CAAC;QACLC,OAAO,EAAE,MAAM;QACfC,aAAa,EAAE,QAAQ;QACvBC,UAAU,EAAE,QAAQ;QACpBC,GAAG,EAAE;MACP,CAAE;MAAAN,QAAA,gBAEFpC,OAAA,CAACJ,UAAU;QAAC+C,OAAO,EAAC,IAAI;QAACC,SAAS,EAAC,IAAI;QAACC,YAAY;QAAAT,QAAA,EAAC;MAErD;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAEbjD,OAAA,CAACL,SAAS;QACRuD,SAAS;QACTC,KAAK,EAAC,WAAW;QACjBC,KAAK,EAAE9C,IAAK;QACZ+C,QAAQ,EAAGC,CAAC,IAAK/C,OAAO,CAAC+C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QACzC1C,KAAK,EAAE,CAAC,CAACA,KAAK,IAAI,CAACJ,IAAI,CAACqB,IAAI,CAAC,CAAE;QAC/B6B,UAAU,EAAE,CAAClD,IAAI,CAACqB,IAAI,CAAC,CAAC,GAAGjB,KAAK,GAAG,EAAG;QACtC2B,EAAE,EAAE;UAAEoB,EAAE,EAAE;QAAE;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eAEFjD,OAAA,CAACJ,UAAU;QAAC+C,OAAO,EAAC,IAAI;QAACC,SAAS,EAAC,IAAI;QAACC,YAAY;QAAAT,QAAA,EAAC;MAErD;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAEbjD,OAAA,CAACH,IAAI;QAAC6D,SAAS;QAACC,OAAO,EAAE,CAAE;QAACC,cAAc,EAAC,QAAQ;QAAAxB,QAAA,EAChDnC,OAAO,CAAC4D,GAAG,CAAC,CAAC/B,MAAM,EAAEgC,KAAK,kBACzB9D,OAAA,CAACH,IAAI;UAACkE,IAAI;UAAA3B,QAAA,eACRpC,OAAA,CAACF,MAAM;YACLkE,GAAG,EAAElC,MAAO;YACZO,EAAE,EAAE;cACF4B,KAAK,EAAE,EAAE;cACTC,MAAM,EAAE,EAAE;cACVC,MAAM,EAAE,SAAS;cACjBC,MAAM,EAAE5D,cAAc,KAAKsB,MAAM,GAAG,mBAAmB,GAAG,MAAM;cAChE,SAAS,EAAE;gBACTuC,OAAO,EAAE;cACX;YACF,CAAE;YACFC,OAAO,EAAEA,CAAA,KAAM7D,iBAAiB,CAACqB,MAAM;UAAE;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C;QAAC,GAbYa,KAAK;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcf,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAEN,CAAC,CAACvC,KAAK,IAAI,CAACF,cAAc,iBACzBR,OAAA,CAACJ,UAAU;QAAC2E,KAAK,EAAC,OAAO;QAAAnC,QAAA,EAAE1B;MAAK;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAC9C,eAEDjD,OAAA,CAACN,MAAM;QACLiD,OAAO,EAAC,WAAW;QACnB6B,IAAI,EAAC,OAAO;QACZF,OAAO,EAAE5C,YAAa;QACtBW,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAF,QAAA,EACf;MAED;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAETjD,OAAA,CAACJ,UAAU;QAAC+C,OAAO,EAAC,OAAO;QAAC4B,KAAK,EAAC,gBAAgB;QAACE,KAAK,EAAC,QAAQ;QAAArC,QAAA,EAC9DxB,MAAM,GAAG,sCAAsC,GAAG;MAAkC;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB;AAAC9C,EAAA,CA7GQD,SAAS;EAAA,QACCZ,WAAW,EACNC,SAAS;AAAA;AAAAmF,EAAA,GAFxBxE,SAAS;AA+GlB,eAAeA,SAAS;AAAC,IAAAwE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}